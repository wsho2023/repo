<!-- https://tips.recatnap.info/laboratory/detail/style_switch_of_clicked_line -->
<!-- https://tips.recatnap.info/laboratory/experiment/js_change_click_line_01 -->

<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
	
		<link type="text/css" rel="stylesheet" href="https://tips.recatnap.info/laboratory/assets/css/jquery-ui.min.css?1494488241" />
		<link type="text/css" rel="stylesheet" href="https://tips.recatnap.info/laboratory/assets/css/bootstrap.min.css?1509947304" />
		<link type="text/css" rel="stylesheet" href="https://tips.recatnap.info/laboratory/assets/css/styles.css?1688346891" />
	
		<script type="text/javascript" src="https://tips.recatnap.info/laboratory/assets/js/jquery.min.js?1577411728"></script>
		<script type="text/javascript" src="https://tips.recatnap.info/laboratory/assets/js/jquery-ui.min.js?1435277052"></script>
		<script type="text/javascript" src="https://tips.recatnap.info/laboratory/assets/js/popper.min.js?1509955107"></script>
		<script type="text/javascript" src="https://tips.recatnap.info/laboratory/assets/js/common.js?1532505838"></script>
		<script type="text/javascript" src="https://tips.recatnap.info/laboratory/assets/js/bootstrap.min.js?1509947304"></script>
	
		<link type="text/css" rel="stylesheet" href="https://tips.recatnap.info/laboratory/assets/css/offcanvas.css?1509955234" />
		<script type="text/javascript" src="https://tips.recatnap.info/laboratory/assets/js/offcanvas.js?1509955262"></script>

</head>
<body>
<style>
	.clsZebra td { background-color:#ffffdd; }
</style>

	<h2>チェックボックス</h2>
	<p>
		対象がチェックされているか確認してクラスを削除 or 付与。イベントの伝播に注意が必要。<br />
	</p>
	<table class="table tblChk">
		<tr><td><label><input type="checkbox" /> 1</label></td><td>鳥精</td></tr>
		<tr><td><label><input type="checkbox" /> 2</label></td><td>豚精</td></tr>
		<tr><td><label><input type="checkbox" /> 3</label></td><td>丸ごとシマウマ</td></tr>
		<tr><td><label><input type="checkbox" /> 6</label></td><td>モチベーコン</td></tr>
		<tr><td><label><input type="checkbox" /> 7</label></td><td>ひな皮</td></tr>
		<tr><td><label><input type="checkbox" /> 9</label></td><td>砂肝</td></tr>
	</table>

<script>
	$('.tblRadio').on('click', 'td', function(e){
		var clsName = 'clsZebra';
		
		var tmpTr = $(this).parents('tr');
		if ( !tmpTr.hasClass(clsName) ) {
			$(tmpTr).parents('table').find('tr').removeClass(clsName);
			$(tmpTr).parents('table').find('tr input').prop('checked', false);
			
			$(tmpTr).addClass(clsName);
			$(tmpTr).find('input').prop('checked', true);
		}
	});
	
	$('.tblChk').on('click', 'td', function(e){
		if ( e.target.localName == 'input' ) {
			// 親への伝播ストップ
			e.stopPropagation();
		}
		else if ( e.target.localName == 'label' ) {
			// 自身のイベントストップ
			e.preventDefault();
		}
		
		var clsName = 'clsZebra';
		
		var tmpTr = $(this).parents('tr');
		
		if ( e.target.localName == 'td' || e.target.localName == 'label' ) {
			var tmpChk = $(tmpTr).find('input[type=checkbox]:checked').length;
			$(tmpTr).find('input[type=checkbox]').prop('checked', !tmpChk);
		}
		
		if ( !tmpTr.hasClass(clsName) ) {
			$(tmpTr).addClass(clsName);
		}
		else {
			$(tmpTr).removeClass(clsName);
		}
	});
</script>
</div>

</body>
</html>
